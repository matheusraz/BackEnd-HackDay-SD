<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Thu Mar 08 16:30:04 EST 2018 -->
<title>VariableServiceImpl (Esper API Documentation)</title>
<meta name="date" content="2018-03-08">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="VariableServiceImpl (Esper API Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/VariableServiceImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceUtil.html" title="class in com.espertech.esper.epl.variable"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/espertech/esper/epl/variable/VariableServiceImpl.html" target="_top">Frames</a></li>
<li><a href="VariableServiceImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.espertech.esper.epl.variable</div>
<h2 title="Class VariableServiceImpl" class="title">Class VariableServiceImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.espertech.esper.epl.variable.VariableServiceImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">VariableServiceImpl</span>
extends java.lang.Object
implements <a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></pre>
<div class="block">Variables service for reading and writing variables, and for setting a version number for the current thread to
 consider variables for.
 <p>
 Consider a statement as follows: select * from MyEvent as A where A.val &gt; var1 and A.val2 &gt; var1 and A.val3 &gt; var2
 <p>
 Upon statement execution we need to guarantee that the same atomic value for all variables is applied for all
 variable reads (by expressions typically) within the statement.
 <p>
 Designed to support:
 <ol>
 <li>lock-less read of the current and prior version, locked reads for older versions
 <li>atomicity by keeping multiple versions for each variable and a threadlocal that receives the current version each call
 <li>one write lock for all variables (required to coordinate with single global version number),
 however writes are very fast (entry to collection plus increment an int) and therefore blocking should not be an issue
 </ol>
 <p>
 As an alternative to a version-based design, a read-lock for the variable space could also be used, with the following
 disadvantages: The write lock may just not be granted unless fair locks are used which are more expensive; And
 a read-lock is more expensive to acquire for multiple CPUs; A thread-local is still need to deal with
 "set var1=3, var2=var1+1" assignments where the new uncommitted value must be visible in the local evaluation.
 <p>
 Every new write to a variable creates a new version. Thus when reading variables, readers can ignore newer versions
 and a read lock is not required in most circumstances.
 <p>
 This algorithm works as follows:
 <p>
 A thread processing an event into the engine via sendEvent() calls the "setLocalVersion" method once
 before processing a statement that has variables.
 This places into a threadlocal variable the current version number, say version 570.
 <p>
 A statement that reads a variable has an <a href="../../../../../com/espertech/esper/epl/expression/core/ExprVariableNode.html" title="interface in com.espertech.esper.epl.expression.core"><code>ExprVariableNode</code></a> that has a <a href="../../../../../com/espertech/esper/epl/variable/VariableReader.html" title="class in com.espertech.esper.epl.variable"><code>VariableReader</code></a> handle
 obtained during validation (example).
 <p>
 The <a href="../../../../../com/espertech/esper/epl/variable/VariableReader.html" title="class in com.espertech.esper.epl.variable"><code>VariableReader</code></a> takes the version from the threadlocal (570) and compares the version number with the
 version numbers held for the variable.
 If the current version is same or lower (520, as old or older) then the threadlocal version,
 then use the current value.
 If the current version is higher (571, newer) then the threadlocal version, then go to the prior value.
 Use the prior value until a version is found that as old or older then the threadlocal version.
 <p>
 If no version can be found that is old enough, output a warning and return the newest version.
 This should not happen, unless a thread is executing for very long within a single statement such that
 lifetime-old-version time speriod passed before the thread asks for variable values.
 <p>
 As version numbers are counted up they may reach a boundary. Any write transaction after the boundary
 is reached performs a roll-over. In a roll-over, all variables version lists are
 newly created and any existing threads that read versions go against a (old) high-collection,
 while new threads reading the reset version go against a new low-collection.
 <p>
 The class also allows an optional state handler to be plugged in to handle persistence for variable state.
 The state handler gets invoked when a variable changes value, and when a variable gets created
 to obtain the current value from persistence, if any.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#HIGH_WATERMARK_VERSIONS">HIGH_WATERMARK_VERSIONS</a></span></code>
<div class="block">Applicable for each variable if more then the number of versions accumulated, check
 timestamps to determine if a version can be expired.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#ROLLOVER_READER_BOUNDARY">ROLLOVER_READER_BOUNDARY</a></span></code>
<div class="block">Sets the boundary above which a reader considers the high-version list of variable values.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#VariableServiceImpl-int-long-com.espertech.esper.schedule.TimeProvider-com.espertech.esper.event.EventAdapterService-com.espertech.esper.epl.variable.VariableStateHandler-">VariableServiceImpl</a></span>(int&nbsp;startVersion,
                   long&nbsp;millisecondLifetimeOldVersions,
                   <a href="../../../../../com/espertech/esper/schedule/TimeProvider.html" title="interface in com.espertech.esper.schedule">TimeProvider</a>&nbsp;timeProvider,
                   <a href="../../../../../com/espertech/esper/event/EventAdapterService.html" title="interface in com.espertech.esper.event">EventAdapterService</a>&nbsp;eventAdapterService,
                   <a href="../../../../../com/espertech/esper/epl/variable/VariableStateHandler.html" title="interface in com.espertech.esper.epl.variable">VariableStateHandler</a>&nbsp;optionalStateHandler)</code>
<div class="block">Ctor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#VariableServiceImpl-long-com.espertech.esper.schedule.TimeProvider-com.espertech.esper.event.EventAdapterService-com.espertech.esper.epl.variable.VariableStateHandler-">VariableServiceImpl</a></span>(long&nbsp;millisecondLifetimeOldVersions,
                   <a href="../../../../../com/espertech/esper/schedule/TimeProvider.html" title="interface in com.espertech.esper.schedule">TimeProvider</a>&nbsp;timeProvider,
                   <a href="../../../../../com/espertech/esper/event/EventAdapterService.html" title="interface in com.espertech.esper.event">EventAdapterService</a>&nbsp;eventAdapterService,
                   <a href="../../../../../com/espertech/esper/epl/variable/VariableStateHandler.html" title="interface in com.espertech.esper.epl.variable">VariableStateHandler</a>&nbsp;optionalStateHandler)</code>
<div class="block">Ctor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#allocateVariableState-java.lang.String-int-com.espertech.esper.core.service.StatementExtensionSvcContext-boolean-">allocateVariableState</a></span>(java.lang.String&nbsp;variableName,
                     int&nbsp;agentInstanceId,
                     <a href="../../../../../com/espertech/esper/core/service/StatementExtensionSvcContext.html" title="interface in com.espertech.esper.core.service">StatementExtensionSvcContext</a>&nbsp;extensionServicesContext,
                     boolean&nbsp;isRecoveringResilient)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#checkAndWrite-java.lang.String-int-java.lang.Object-">checkAndWrite</a></span>(java.lang.String&nbsp;variableName,
             int&nbsp;agentInstanceId,
             java.lang.Object&nbsp;newValue)</code>
<div class="block">Check type of the value supplied and writes the new variable value.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#commit--">commit</a></span>()</code>
<div class="block">Commits the variable outstanding changes.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#createNewVariable-java.lang.String-java.lang.String-java.lang.String-boolean-boolean-boolean-java.lang.Object-com.espertech.esper.epl.core.engineimport.EngineImportService-">createNewVariable</a></span>(java.lang.String&nbsp;optionalContextName,
                 java.lang.String&nbsp;variableName,
                 java.lang.String&nbsp;variableType,
                 boolean&nbsp;constant,
                 boolean&nbsp;array,
                 boolean&nbsp;arrayOfPrimitive,
                 java.lang.Object&nbsp;value,
                 <a href="../../../../../com/espertech/esper/epl/core/engineimport/EngineImportService.html" title="interface in com.espertech.esper.epl.core.engineimport">EngineImportService</a>&nbsp;engineImportService)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#deallocateVariableState-java.lang.String-int-">deallocateVariableState</a></span>(java.lang.String&nbsp;variableName,
                       int&nbsp;agentInstanceId)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#destroy--">destroy</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/espertech/esper/epl/variable/VariableReader.html" title="class in com.espertech.esper.epl.variable">VariableReader</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#getReader-java.lang.String-int-">getReader</a></span>(java.lang.String&nbsp;variableName,
         int&nbsp;agentInstanceIdAccessor)</code>
<div class="block">Returns a reader that provides access to variable values.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.concurrent.ConcurrentHashMap&lt;java.lang.Integer,<a href="../../../../../com/espertech/esper/epl/variable/VariableReader.html" title="class in com.espertech.esper.epl.variable">VariableReader</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#getReadersPerCP-java.lang.String-">getReadersPerCP</a></span>(java.lang.String&nbsp;variableName)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.concurrent.locks.ReadWriteLock</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#getReadWriteLock--">getReadWriteLock</a></span>()</code>
<div class="block">Lock for use in atomic writes to the variable space.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/espertech/esper/epl/variable/VariableMetaData.html" title="class in com.espertech.esper.epl.variable">VariableMetaData</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#getVariableMetaData-java.lang.String-">getVariableMetaData</a></span>(java.lang.String&nbsp;variableName)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,<a href="../../../../../com/espertech/esper/epl/variable/VariableReader.html" title="class in com.espertech.esper.epl.variable">VariableReader</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#getVariableReadersNonCP--">getVariableReadersNonCP</a></span>()</code>
<div class="block">Returns a map of variable name and reader, for thread-safe iteration.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#isContextVariable-java.lang.String-">isContextVariable</a></span>(java.lang.String&nbsp;variableName)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#registerCallback-java.lang.String-int-com.espertech.esper.epl.variable.VariableChangeCallback-">registerCallback</a></span>(java.lang.String&nbsp;variableName,
                int&nbsp;agentInstanceId,
                <a href="../../../../../com/espertech/esper/epl/variable/VariableChangeCallback.html" title="interface in com.espertech.esper.epl.variable">VariableChangeCallback</a>&nbsp;variableChangeCallback)</code>
<div class="block">Registers a callback invoked when the variable is written with a new value.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#removeVariableIfFound-java.lang.String-">removeVariableIfFound</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Removes a variable.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#rollback--">rollback</a></span>()</code>
<div class="block">Rolls back the variable outstanding changes.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#setLocalVersion--">setLocalVersion</a></span>()</code>
<div class="block">Sets the variable version that subsequent reads consider.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#unregisterCallback-java.lang.String-int-com.espertech.esper.epl.variable.VariableChangeCallback-">unregisterCallback</a></span>(java.lang.String&nbsp;variableName,
                  int&nbsp;agentInstanceId,
                  <a href="../../../../../com/espertech/esper/epl/variable/VariableChangeCallback.html" title="interface in com.espertech.esper.epl.variable">VariableChangeCallback</a>&nbsp;variableChangeCallback)</code>
<div class="block">Removes a callback.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceImpl.html#write-int-int-java.lang.Object-">write</a></span>(int&nbsp;variableNumber,
     int&nbsp;agentInstanceId,
     java.lang.Object&nbsp;newValue)</code>
<div class="block">Writes a new variable value.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="ROLLOVER_READER_BOUNDARY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ROLLOVER_READER_BOUNDARY</h4>
<pre>protected static final&nbsp;int ROLLOVER_READER_BOUNDARY</pre>
<div class="block">Sets the boundary above which a reader considers the high-version list of variable values.
 For use in roll-over when the current version number overflows the ROLLOVER_WRITER_BOUNDARY.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.espertech.esper.epl.variable.VariableServiceImpl.ROLLOVER_READER_BOUNDARY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="HIGH_WATERMARK_VERSIONS">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HIGH_WATERMARK_VERSIONS</h4>
<pre>protected static final&nbsp;int HIGH_WATERMARK_VERSIONS</pre>
<div class="block">Applicable for each variable if more then the number of versions accumulated, check
 timestamps to determine if a version can be expired.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.espertech.esper.epl.variable.VariableServiceImpl.HIGH_WATERMARK_VERSIONS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="VariableServiceImpl-long-com.espertech.esper.schedule.TimeProvider-com.espertech.esper.event.EventAdapterService-com.espertech.esper.epl.variable.VariableStateHandler-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VariableServiceImpl</h4>
<pre>public&nbsp;VariableServiceImpl(long&nbsp;millisecondLifetimeOldVersions,
                           <a href="../../../../../com/espertech/esper/schedule/TimeProvider.html" title="interface in com.espertech.esper.schedule">TimeProvider</a>&nbsp;timeProvider,
                           <a href="../../../../../com/espertech/esper/event/EventAdapterService.html" title="interface in com.espertech.esper.event">EventAdapterService</a>&nbsp;eventAdapterService,
                           <a href="../../../../../com/espertech/esper/epl/variable/VariableStateHandler.html" title="interface in com.espertech.esper.epl.variable">VariableStateHandler</a>&nbsp;optionalStateHandler)</pre>
<div class="block">Ctor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>millisecondLifetimeOldVersions</code> - number of milliseconds a version may hang around before expiry</dd>
<dd><code>timeProvider</code> - provides the current time</dd>
<dd><code>optionalStateHandler</code> - a optional plug-in that may store variable state and retrieve state upon creation</dd>
<dd><code>eventAdapterService</code> - event adapters</dd>
</dl>
</li>
</ul>
<a name="VariableServiceImpl-int-long-com.espertech.esper.schedule.TimeProvider-com.espertech.esper.event.EventAdapterService-com.espertech.esper.epl.variable.VariableStateHandler-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VariableServiceImpl</h4>
<pre>protected&nbsp;VariableServiceImpl(int&nbsp;startVersion,
                              long&nbsp;millisecondLifetimeOldVersions,
                              <a href="../../../../../com/espertech/esper/schedule/TimeProvider.html" title="interface in com.espertech.esper.schedule">TimeProvider</a>&nbsp;timeProvider,
                              <a href="../../../../../com/espertech/esper/event/EventAdapterService.html" title="interface in com.espertech.esper.event">EventAdapterService</a>&nbsp;eventAdapterService,
                              <a href="../../../../../com/espertech/esper/epl/variable/VariableStateHandler.html" title="interface in com.espertech.esper.epl.variable">VariableStateHandler</a>&nbsp;optionalStateHandler)</pre>
<div class="block">Ctor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startVersion</code> - the first version number to start from</dd>
<dd><code>millisecondLifetimeOldVersions</code> - number of milliseconds a version may hang around before expiry</dd>
<dd><code>timeProvider</code> - provides the current time</dd>
<dd><code>optionalStateHandler</code> - a optional plug-in that may store variable state and retrieve state upon creation</dd>
<dd><code>eventAdapterService</code> - for finding event types</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="destroy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#destroy--">destroy</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
</dl>
</li>
</ul>
<a name="removeVariableIfFound-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeVariableIfFound</h4>
<pre>public&nbsp;void&nbsp;removeVariableIfFound(java.lang.String&nbsp;name)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#removeVariableIfFound-java.lang.String-">VariableService</a></code></span></div>
<div class="block">Removes a variable.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#removeVariableIfFound-java.lang.String-">removeVariableIfFound</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - to remove</dd>
</dl>
</li>
</ul>
<a name="setLocalVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLocalVersion</h4>
<pre>public&nbsp;void&nbsp;setLocalVersion()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#setLocalVersion--">VariableService</a></code></span></div>
<div class="block">Sets the variable version that subsequent reads consider.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#setLocalVersion--">setLocalVersion</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
</dl>
</li>
</ul>
<a name="registerCallback-java.lang.String-int-com.espertech.esper.epl.variable.VariableChangeCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerCallback</h4>
<pre>public&nbsp;void&nbsp;registerCallback(java.lang.String&nbsp;variableName,
                             int&nbsp;agentInstanceId,
                             <a href="../../../../../com/espertech/esper/epl/variable/VariableChangeCallback.html" title="interface in com.espertech.esper.epl.variable">VariableChangeCallback</a>&nbsp;variableChangeCallback)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#registerCallback-java.lang.String-int-com.espertech.esper.epl.variable.VariableChangeCallback-">VariableService</a></code></span></div>
<div class="block">Registers a callback invoked when the variable is written with a new value.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#registerCallback-java.lang.String-int-com.espertech.esper.epl.variable.VariableChangeCallback-">registerCallback</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>variableName</code> - variable name</dd>
<dd><code>agentInstanceId</code> - agent instance id</dd>
<dd><code>variableChangeCallback</code> - a callback</dd>
</dl>
</li>
</ul>
<a name="unregisterCallback-java.lang.String-int-com.espertech.esper.epl.variable.VariableChangeCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregisterCallback</h4>
<pre>public&nbsp;void&nbsp;unregisterCallback(java.lang.String&nbsp;variableName,
                               int&nbsp;agentInstanceId,
                               <a href="../../../../../com/espertech/esper/epl/variable/VariableChangeCallback.html" title="interface in com.espertech.esper.epl.variable">VariableChangeCallback</a>&nbsp;variableChangeCallback)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#unregisterCallback-java.lang.String-int-com.espertech.esper.epl.variable.VariableChangeCallback-">VariableService</a></code></span></div>
<div class="block">Removes a callback.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#unregisterCallback-java.lang.String-int-com.espertech.esper.epl.variable.VariableChangeCallback-">unregisterCallback</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>variableName</code> - variable name</dd>
<dd><code>agentInstanceId</code> - agent instance id</dd>
<dd><code>variableChangeCallback</code> - a callback</dd>
</dl>
</li>
</ul>
<a name="createNewVariable-java.lang.String-java.lang.String-java.lang.String-boolean-boolean-boolean-java.lang.Object-com.espertech.esper.epl.core.engineimport.EngineImportService-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNewVariable</h4>
<pre>public&nbsp;void&nbsp;createNewVariable(java.lang.String&nbsp;optionalContextName,
                              java.lang.String&nbsp;variableName,
                              java.lang.String&nbsp;variableType,
                              boolean&nbsp;constant,
                              boolean&nbsp;array,
                              boolean&nbsp;arrayOfPrimitive,
                              java.lang.Object&nbsp;value,
                              <a href="../../../../../com/espertech/esper/epl/core/engineimport/EngineImportService.html" title="interface in com.espertech.esper.epl.core.engineimport">EngineImportService</a>&nbsp;engineImportService)
                       throws <a href="../../../../../com/espertech/esper/epl/variable/VariableExistsException.html" title="class in com.espertech.esper.epl.variable">VariableExistsException</a>,
                              <a href="../../../../../com/espertech/esper/epl/variable/VariableTypeException.html" title="class in com.espertech.esper.epl.variable">VariableTypeException</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#createNewVariable-java.lang.String-java.lang.String-java.lang.String-boolean-boolean-boolean-java.lang.Object-com.espertech.esper.epl.core.engineimport.EngineImportService-">createNewVariable</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableExistsException.html" title="class in com.espertech.esper.epl.variable">VariableExistsException</a></code></dd>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableTypeException.html" title="class in com.espertech.esper.epl.variable">VariableTypeException</a></code></dd>
</dl>
</li>
</ul>
<a name="allocateVariableState-java.lang.String-int-com.espertech.esper.core.service.StatementExtensionSvcContext-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocateVariableState</h4>
<pre>public&nbsp;void&nbsp;allocateVariableState(java.lang.String&nbsp;variableName,
                                  int&nbsp;agentInstanceId,
                                  <a href="../../../../../com/espertech/esper/core/service/StatementExtensionSvcContext.html" title="interface in com.espertech.esper.core.service">StatementExtensionSvcContext</a>&nbsp;extensionServicesContext,
                                  boolean&nbsp;isRecoveringResilient)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#allocateVariableState-java.lang.String-int-com.espertech.esper.core.service.StatementExtensionSvcContext-boolean-">allocateVariableState</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
</dl>
</li>
</ul>
<a name="deallocateVariableState-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deallocateVariableState</h4>
<pre>public&nbsp;void&nbsp;deallocateVariableState(java.lang.String&nbsp;variableName,
                                    int&nbsp;agentInstanceId)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#deallocateVariableState-java.lang.String-int-">deallocateVariableState</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
</dl>
</li>
</ul>
<a name="getVariableMetaData-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVariableMetaData</h4>
<pre>public&nbsp;<a href="../../../../../com/espertech/esper/epl/variable/VariableMetaData.html" title="class in com.espertech.esper.epl.variable">VariableMetaData</a>&nbsp;getVariableMetaData(java.lang.String&nbsp;variableName)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#getVariableMetaData-java.lang.String-">getVariableMetaData</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
</dl>
</li>
</ul>
<a name="getReader-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReader</h4>
<pre>public&nbsp;<a href="../../../../../com/espertech/esper/epl/variable/VariableReader.html" title="class in com.espertech.esper.epl.variable">VariableReader</a>&nbsp;getReader(java.lang.String&nbsp;variableName,
                                int&nbsp;agentInstanceIdAccessor)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#getReader-java.lang.String-int-">VariableService</a></code></span></div>
<div class="block">Returns a reader that provides access to variable values. The reader considers the
 version currently set via setLocalVersion.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#getReader-java.lang.String-int-">getReader</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>variableName</code> - the variable that the reader should read</dd>
<dd><code>agentInstanceIdAccessor</code> - agent instance id of accessor</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>reader</dd>
</dl>
</li>
</ul>
<a name="isContextVariable-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isContextVariable</h4>
<pre>public&nbsp;java.lang.String&nbsp;isContextVariable(java.lang.String&nbsp;variableName)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#isContextVariable-java.lang.String-">isContextVariable</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
</dl>
</li>
</ul>
<a name="write-int-int-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(int&nbsp;variableNumber,
                  int&nbsp;agentInstanceId,
                  java.lang.Object&nbsp;newValue)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#write-int-int-java.lang.Object-">VariableService</a></code></span></div>
<div class="block">Writes a new variable value.
 <p>
 Must be followed by either a commit or rollback.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#write-int-int-java.lang.Object-">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>variableNumber</code> - the index number of the variable to write (from VariableReader)</dd>
<dd><code>agentInstanceId</code> - agent instance id</dd>
<dd><code>newValue</code> - the new value</dd>
</dl>
</li>
</ul>
<a name="getReadWriteLock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadWriteLock</h4>
<pre>public&nbsp;java.util.concurrent.locks.ReadWriteLock&nbsp;getReadWriteLock()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#getReadWriteLock--">VariableService</a></code></span></div>
<div class="block">Lock for use in atomic writes to the variable space.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#getReadWriteLock--">getReadWriteLock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>read write lock for external coordinated write</dd>
</dl>
</li>
</ul>
<a name="commit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public&nbsp;void&nbsp;commit()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#commit--">VariableService</a></code></span></div>
<div class="block">Commits the variable outstanding changes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#commit--">commit</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
</dl>
</li>
</ul>
<a name="rollback--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre>public&nbsp;void&nbsp;rollback()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#rollback--">VariableService</a></code></span></div>
<div class="block">Rolls back the variable outstanding changes.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#rollback--">rollback</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
</dl>
</li>
</ul>
<a name="checkAndWrite-java.lang.String-int-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkAndWrite</h4>
<pre>public&nbsp;void&nbsp;checkAndWrite(java.lang.String&nbsp;variableName,
                          int&nbsp;agentInstanceId,
                          java.lang.Object&nbsp;newValue)
                   throws <a href="../../../../../com/espertech/esper/client/VariableValueException.html" title="class in com.espertech.esper.client">VariableValueException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#checkAndWrite-java.lang.String-int-java.lang.Object-">VariableService</a></code></span></div>
<div class="block">Check type of the value supplied and writes the new variable value.
 <p>
 Must be followed by either a commit or rollback.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#checkAndWrite-java.lang.String-int-java.lang.Object-">checkAndWrite</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>variableName</code> - variable name</dd>
<dd><code>agentInstanceId</code> - agent instance id</dd>
<dd><code>newValue</code> - the new value</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/client/VariableValueException.html" title="class in com.espertech.esper.client">VariableValueException</a></code></dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="getVariableReadersNonCP--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVariableReadersNonCP</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,<a href="../../../../../com/espertech/esper/epl/variable/VariableReader.html" title="class in com.espertech.esper.epl.variable">VariableReader</a>&gt;&nbsp;getVariableReadersNonCP()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#getVariableReadersNonCP--">VariableService</a></code></span></div>
<div class="block">Returns a map of variable name and reader, for thread-safe iteration.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#getVariableReadersNonCP--">getVariableReadersNonCP</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>variable names and readers</dd>
</dl>
</li>
</ul>
<a name="getReadersPerCP-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getReadersPerCP</h4>
<pre>public&nbsp;java.util.concurrent.ConcurrentHashMap&lt;java.lang.Integer,<a href="../../../../../com/espertech/esper/epl/variable/VariableReader.html" title="class in com.espertech.esper.epl.variable">VariableReader</a>&gt;&nbsp;getReadersPerCP(java.lang.String&nbsp;variableName)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html#getReadersPerCP-java.lang.String-">getReadersPerCP</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable">VariableService</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/VariableServiceImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">
				
				<small><b>&copy; 2006-2018 EsperTech Inc.<br/>All rights reserved.<br/>Visit us at <a href='http://www.espertech.com' target=3_blank'>espertech.com</a></b></small>
				<script type='text/javascript'>				
				var gaJsHost = (('https:' == document.location.protocol) ? 'https://ssl.' : 'http://www.');
 				document.write(unescape('%3Cscript src=\'' + gaJsHost + 'google-analytics.com/ga.js\' type=\'text/javascript\'%3E%3C/script%3E'));
				</script>
				<script type='text/javascript'>
				var pageTracker = _gat._getTracker('UA-1261295-1');
				pageTracker._trackPageview();
				</script>
				
			</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/espertech/esper/epl/variable/VariableService.html" title="interface in com.espertech.esper.epl.variable"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/espertech/esper/epl/variable/VariableServiceUtil.html" title="class in com.espertech.esper.epl.variable"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/espertech/esper/epl/variable/VariableServiceImpl.html" target="_top">Frames</a></li>
<li><a href="VariableServiceImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
